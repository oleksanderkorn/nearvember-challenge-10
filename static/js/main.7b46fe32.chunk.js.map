{"version":3,"sources":["Authorization.jsx","LoadingIndicator.jsx","GameCard.jsx","JoinGameCard.jsx","AddGameCard.jsx","GameDetails.jsx","Games.jsx","ErrorPopup.jsx","App.js","index.js","config.js"],"names":["Authorization","contract","currentUser","nearConfig","wallet","useState","isShowing","setIsShowing","useTimeoutFn","resetIsShowing","useEffect","as","Fragment","show","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","className","src","alt","accountId","onClick","signOut","window","location","replace","origin","pathname","requestSignIn","contractName","LoadingIndicator","isLoading","GameCard","game","index","delay","onGameSelected","onLoading","isHovered","setIsHovered","isCopied","setIsCopied","resetIsCopied","onMouseEnter","onMouseLeave","id","text","onCopy","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","counterpartyId","ownerId","JoinGameCard","onJoinGame","gameId","setGameId","type","value","placeholder","onChange","e","target","disabled","AddGameCard","onAddGame","Board","fields","row","onFieldSelected","ownBoard","map","f","i","field","col","Field","fillRule","clipRule","GameDetails","currentGame","onClose","onError","setGame","closeButtonColor","setCloseButtonColor","shouldReloadGame","setShouldReloadGame","canMakeMove","make_move","then","err","kind","get_game","ownerFields","counterpartyFields","Games","games","setGames","shouldReloadGames","setShouldReloadGames","selectedGame","setSelectedGame","activateGame","election","localStorage","setItem","length","getItem","filter","forEach","get_games","create_game","join_game","parseInt","removeItem","ErrorPopup","error","callback","closeModal","appear","Child","Overlay","aria-hidden","Title","App","setIsLoading","setError","a","getConfig","process","nearAPI","deps","keyStore","BrowserLocalStorageKeyStore","near","walletConnection","getAccountId","account","state","amount","balance","viewMethods","changeMethods","sender","nearInitPromise","initContract","ReactDOM","render","document","getElementById","CONTRACT_NAME","module","exports","env","networkId","nodeUrl","walletUrl","helperUrl","Error"],"mappings":"yQA6EeA,EAzEO,SAAC,GAAkD,EAAhDC,SAAiD,IAAvCC,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,OAAa,EAUvCC,oBAAS,GAV8B,mBAUlEC,EAVkE,KAUvDC,EAVuD,OAW5CC,aAAa,kBAAMD,GAAa,KAAO,KAAzDE,EAX8D,oBAiBvE,OAJAC,qBAAU,WACRD,MACC,CAACA,IAGF,mCACE,cAAC,IAAD,CACEE,GAAIC,WACJC,KAAMP,EACNQ,MAAM,wCACNC,UAAU,sCACVC,QAAQ,iCACRC,MAAM,gDACNC,UAAU,kCACVC,QAAQ,sBARV,SAUE,sBAAKC,UAAU,sHAAf,UACE,qBACEA,UAAU,YACVC,IAAI,0CACJC,IAAI,cAGN,qBACEF,UAAS,kBACPlB,GAAeA,EAAYqB,UAAY,WAAa,GAD7C,qCADX,8BAOA,sBAAKH,UAAU,uBAAf,UACGlB,GACC,qBAAKkB,UAAU,OAAf,SACE,oBAAGA,UAAU,iBAAb,yBACelB,EAAYqB,eAI9BrB,EACC,wBACEkB,UAAU,iFACVI,QAjDE,WACdpB,EAAOqB,UACPC,OAAOC,SAASC,QAAQF,OAAOC,SAASE,OAASH,OAAOC,SAASG,WA6CvD,oBAOA,wBACEV,UAAU,iFACVI,QA5DC,WACbpB,EAAO2B,cAAc5B,EAAW6B,aAAc,sBAyDpC,8BCnDCC,EAZU,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAC1B,OACE,mCACGA,EACC,qBAAKd,UAAU,+FAEf,qBAAKA,UAAU,sB,QCqGRe,EAtGE,SAAC,GAUX,IATLC,EASI,EATJA,KACAC,EAQI,EARJA,MACAC,EAOI,EAPJA,MAMAC,GACI,EANJtC,SAMI,EALJC,YAKI,EAJJC,WAII,EAHJC,OAGI,EAFJoC,UAEI,EADJD,gBACI,EAC4BlC,oBAAS,GADrC,mBACCC,EADD,KACYC,EADZ,OAE4BF,oBAAS,GAFrC,mBAECoC,EAFD,KAEYC,EAFZ,OAG0BrC,oBAAS,GAHnC,mBAGCsC,EAHD,KAGWC,EAHX,OAKuBpC,aACzB,kBAAMD,GAAa,KACX,IAAR8B,GAFO5B,EALL,sBAUsBD,aAAa,kBAAMoC,GAAY,KAAQ,KAAxDC,EAVL,oBAqBJ,OAJAnC,qBAAU,WACRD,MACC,CAACA,IAGF,cAAC,IAAD,CACEE,GAAIC,WACJC,KAAMP,EACNQ,MAAK,yCAAoCwB,EAApC,OACLvB,UAAU,sCACVC,QAAQ,iCACRC,MAAM,gDACNC,UAAU,kCACVC,QAAQ,sBARV,SAUE,sBACE2B,aAAc,kBAAMJ,GAAa,IACjCK,aAAc,kBAAML,GAAa,IACjCtB,UAAS,kCACPqB,EACI,6BACA,6BAHG,sFAHX,UASE,sBAAKrB,UAAU,8EAAf,UACE,oBAAGI,QAAS,kBAAMe,EAAeH,IAAjC,oBAAgDA,EAAKY,MACrD,cAAC,kBAAD,CAAiBC,KAAMb,EAAKY,GAAIE,OA/BrB,WACjBN,GAAY,GACZC,KA6BM,SACE,yBAAQzB,UAAU,sNAAlB,UACE,qBACE+B,MAAM,6BACN/B,UAAU,UACVgC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,4HAGLf,GAAY,kDAInB,sBACEvB,UAAU,iEACVI,QAAS,kBAAMe,EAAeH,IAFhC,UAIE,qBACEe,MAAM,6BACN/B,UAAU,UACVgC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,oHAGN,4BACGtB,EAAKuB,eAAL,UACMvB,EAAKwB,QADX,cACwBxB,EAAKuB,gBAC1B,6CCjCDE,EA9DM,SAAC,GAAoB,IAAlBC,EAAiB,EAAjBA,WAAiB,EACPzD,oBAAS,GADF,mBAClCC,EADkC,KACvBC,EADuB,OAEPF,oBAAS,GAFF,mBAElCoC,EAFkC,KAEvBC,EAFuB,OAGbrC,mBAAS,IAHI,mBAGlC0D,EAHkC,KAG1BC,EAH0B,OAKZxD,aAAa,kBAAMD,GAAa,KAAO,KAAzDE,EAL8B,oBAUvC,OAHAC,qBAAU,WACRD,MACC,CAACA,IAEF,cAAC,IAAD,CACEE,GAAIC,WACJC,KAAMP,EACNQ,MAAK,wCACLC,UAAU,sCACVC,QAAQ,iCACRC,MAAM,gDACNC,UAAU,kCACVC,QAAQ,sBARV,SAUE,sBACEC,UAAS,kCACPqB,EACI,6BACA,6BAHG,uGAKTK,aAAc,kBAAMJ,GAAa,IACjCK,aAAc,kBAAML,GAAa,IAPnC,UASE,uBACEuB,KAAK,OACL7C,UAAU,MACV8C,MAAOH,EACPI,YAAY,gBACZC,SAAU,SAACC,GAAD,OAAOL,EAAUK,EAAEC,OAAOJ,UAEtC,wBACE1C,QAAS,kBAAMsC,EAAWC,IAC1BQ,UAAWR,EACX3C,UAAU,uNAHZ,SAKE,qBACE+B,MAAM,6BACN/B,UAAU,UACVgC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,mGCJDc,EAjDK,SAAC,GAAmB,IAAjBC,EAAgB,EAAhBA,UAAgB,EACLpE,oBAAS,GADJ,mBAChCC,EADgC,KACrBC,EADqB,OAELF,oBAAS,GAFJ,mBAEhCoC,EAFgC,KAErBC,EAFqB,OAIVlC,aAAa,kBAAMD,GAAa,KAAO,KAAzDE,EAJ4B,oBASrC,OAHAC,qBAAU,WACRD,MACC,CAACA,IAEF,cAAC,IAAD,CACEE,GAAIC,WACJC,KAAMP,EACNQ,MAAK,wCACLC,UAAU,sCACVC,QAAQ,iCACRC,MAAM,gDACNC,UAAU,kCACVC,QAAQ,sBARV,SAUE,wBACEK,QAASiD,EACTrD,UAAS,kCACPqB,EACI,6BACA,6BAHG,6DAKTK,aAAc,kBAAMJ,GAAa,IACjCK,aAAc,kBAAML,GAAa,IARnC,SAUE,qBACES,MAAM,6BACN/B,UAAU,kBACVgC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,0BCyIRgB,EAAQ,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,OAAQC,EAAqC,EAArCA,IAAKC,EAAgC,EAAhCA,gBAAiBC,EAAe,EAAfA,SAC7C,OACE,qBAAK1D,UAAU,sBAAf,SACGuD,GACCA,EAAOI,KAAI,SAACC,EAAGC,GAAJ,OACTH,EACE,cAAC,EAAD,CAAeI,MAAOF,EAAGG,IAAKF,EAAGL,IAAKA,EAAKE,UAAQ,GAAvCG,GAEZ,cAAC,EAAD,CAEEC,MAAOF,EACPG,IAAKF,EACLL,IAAKA,EACLC,gBAAiBA,GAJZI,SAWbG,EAAQ,SAAC,GAAoD,IAAlDF,EAAiD,EAAjDA,MAAON,EAA0C,EAA1CA,IAAKO,EAAqC,EAArCA,IAAKN,EAAgC,EAAhCA,gBAAiBC,EAAe,EAAfA,SACjD,OACE,sBACE1D,UAAS,oBACN0D,GAAuB,MAAVI,GAA2B,MAAVA,EAE3B,GADA,uEAFG,qCAKT1D,QAAS,WACFsD,GAAuB,MAAVI,GAA2B,MAAVA,GACjCL,EAAgBD,EAAKO,IAR3B,WAYc,MAAVD,IAAmBJ,GAAsB,MAAVI,IAC/B,qBACE/B,MAAM,6BACN/B,UAAU,UACVgC,KAAK,OACLC,QAAQ,YACRC,OAAO,OALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,iCAIG,MAAVwB,GACC,qBACE/B,MAAM,6BACN/B,UAAU,UACVgC,KAAK,OACLC,QAAQ,YACRC,OAAO,eALT,SAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,eAIPoB,GAAsB,MAAVI,GACX,qBACE/B,MAAM,6BACN/B,UAAU,UACViC,QAAQ,YACRD,KAAK,eAJP,SAME,sBACEiC,SAAS,UACT3B,EAAE,mHACF4B,SAAS,eAIbR,GAAsB,MAAVI,GACZ,sBACE/B,MAAM,6BACN/B,UAAU,UACVgC,KAAK,OACLC,QAAQ,YACRC,OAAO,OALT,UAOE,sBACEC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,mJAEJ,sBACEH,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,2EAIPoB,GAAsB,MAAVI,GACX,qBACE/B,MAAM,6BACN/B,UAAU,UACViC,QAAQ,YACRD,KAAK,eAJP,SAME,sBACEiC,SAAS,UACT3B,EAAE,kMACF4B,SAAS,kBAQNC,EA1SK,SAAC,GASd,IARLC,EAQI,EARJA,YACAvF,EAOI,EAPJA,SACAC,EAMI,EANJA,YAGAuF,GAGI,EALJtF,WAKI,EAJJC,OAII,EAHJqF,SACAjD,EAEI,EAFJA,UACAkD,EACI,EADJA,QACI,EAC8BrF,oBAAS,GADvC,mBACGC,EADH,KACcC,EADd,OAEoBF,mBAASmF,GAF7B,mBAEGpD,EAFH,KAESuD,EAFT,OAG4CtF,mBAAS,QAHrD,mBAGGuF,EAHH,KAGqBC,EAHrB,OAI4CxF,oBAAS,GAJrD,mBAIGyF,EAJH,KAIqBC,EAJrB,KAMEC,EAAc,WAClB,OAAO5D,EAAKuB,gBAGRkB,EAAkB,SAACD,EAAKO,GAC5B3C,GAAU,GACNwD,GACF/F,EACGgG,UAAU,CACTlC,OAAQ3B,EAAKY,GACbzB,UAAWrB,EAAYqB,UACvBqD,IAAKA,EACLO,IAAKA,IAENe,MACC,WACE1D,GAAU,GACVuD,GAAoB,MAEtB,SAACI,GACC3D,GAAU,GACVkD,EAAQ,GAAD,OAAIS,GAAOA,EAAIC,KAAOD,EAAIC,KAAJ,eAA6BD,QA3BhE,EAiCuB3F,aAAa,kBAAMD,GAAa,KAAO,KAAzDE,EAjCL,oBAmCJC,qBAAU,WACRD,MACC,CAACA,IAEJC,qBAAU,WACJR,GAAeA,EAAYqB,WAAaiB,GAAasD,IACvDtD,GAAU,GACVvC,EACGoG,SAAS,CAAEtC,OAAQ3B,EAAKY,GAAIzB,UAAWrB,EAAYqB,YACnD2E,MACC,SAAC9D,GACCuD,EAAQvD,GACRI,GAAU,GACVuD,GAAoB,MAEtB,SAACI,GACCJ,GAAoB,GACpBvD,GAAU,GACVkD,EAAQ,GAAD,OAAIS,GAAOA,EAAIC,KAAOD,EAAIC,KAAJ,eAA6BD,UAIjE,CAAC/D,EAAKY,GAAI/C,EAAUuC,EAAWkD,EAASxF,EAAa4F,IAUxD,OACE,cAAC,IAAD,CACEnF,GAAIC,WACJC,KAAMP,EACNQ,MAAK,wCACLC,UAAU,sCACVC,QAAQ,iCACRC,MAAM,gDACNC,UAAU,kCACVC,QAAQ,sBARV,SAUE,sBAAKC,UAAU,+FAAf,UACE,sBAAKA,UAAU,8DAAf,UACE,sBAAKA,UAAU,2DAAf,mBACSgB,EAAKY,MAEd,wBACE5B,UAAU,eACVI,QAASiE,EACT3C,aAAc,kBAAM+C,EAAoB,SACxC9C,aAAc,kBAAM8C,EAAoB,SAJ1C,SAME,qBACE1C,MAAM,6BACN/B,UAAU,UACVgC,KAAK,OACLC,QAAQ,YACRC,OAAQsC,EALV,SAOE,sBACErC,cAAc,QACdC,eAAe,QACfC,YAAa,EACbC,EAAE,gCAxCdtB,GAAQA,EAAKkE,aAAelE,EAAKwB,UAAY1D,EAAYqB,WA+CnD,sBAAKH,UAAU,wCAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,2DAAf,uBAGA,qBAAKA,UAAU,GAAf,SACGgB,EAAKkE,YAAYvB,KAAI,SAACC,EAAGC,GAAJ,OACpB,cAAC,EAAD,CAAwBN,OAAQK,EAAGJ,IAAKK,EAAGH,UAAQ,GAAnD,cAAmBG,YAIzB,sBAAK7D,UAAU,gBAAf,UACE,qBAAKA,UAAU,2DAAf,gCAGA,qBAAKA,UAAU,GAAf,SACGgB,EAAKmE,mBAAmBxB,KAAI,SAACC,EAAGC,GAAJ,OAC3B,cAAC,EAAD,CAEEN,OAAQK,EACRJ,IAAKK,EACLJ,gBAAiBA,GAJnB,cACcI,eA9D5B7C,GACAA,EAAKmE,oBACLnE,EAAKuB,iBAAmBzD,EAAYqB,WAuE9B,sBAAKH,UAAU,wCAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,qBAAKA,UAAU,2DAAf,uBAGA,8BACGgB,EAAKmE,mBAAmBxB,KAAI,SAACC,EAAGC,GAAJ,OAC3B,cAAC,EAAD,CAAwBN,OAAQK,EAAGJ,IAAKK,EAAGH,UAAQ,GAAnD,cAAmBG,YAIzB,sBAAK7D,UAAU,gBAAf,UACE,qBAAKA,UAAU,2DAAf,gCAGA,8BACGgB,EAAKkE,YAAYvB,KAAI,SAACC,EAAGC,GAAJ,OACpB,cAAC,EAAD,CAEEN,OAAQK,EACRJ,IAAKK,EACLJ,gBAAiBA,GAJnB,cACcI,qBC/BjBuB,EAlID,SAAC,GAOR,IANLvG,EAMI,EANJA,SACAC,EAKI,EALJA,YACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,OACAoC,EAEI,EAFJA,UACAkD,EACI,EADJA,QACI,EACsBrF,qBADtB,mBACGoG,EADH,KACUC,EADV,OAE8CrG,oBAAS,GAFvD,mBAEGsG,EAFH,KAEsBC,EAFtB,OAGoCvG,qBAHpC,mBAGGwG,EAHH,KAGiBC,EAHjB,KAKEC,EAAe,SAACC,GACpBC,aAAaC,QAAQ,aAAcF,EAAShE,IAC5C8D,EAAgBE,IA0ElB,OAlCAtG,qBAAU,WACR,GAAI+F,GAASA,EAAMU,OAAS,EAAG,CAC7B,IAAMpD,EAASkD,aAAaG,QAAQ,cACpCX,EACGY,QAAO,SAAChD,GAAD,MAAO,UAAGA,EAAErB,MAASe,KAC5BuD,SAAQ,SAACjD,GACRyC,EAAgBzC,SAGrB,CAACoC,IAEJ/F,qBAAU,WAENR,GACAA,EAAYqB,WACZiB,GACAmE,IAEAnE,GAAU,GACVvC,EAASsH,UAAU,CAAEhG,UAAWrB,EAAYqB,YAAa2E,MACvD,SAACO,GACCjE,GAAU,GACVkE,EAASD,GACTG,GAAqB,MAEvB,SAACT,GACCS,GAAqB,GACrBpE,GAAU,GACVkD,EAAQ,GAAD,OAAIS,GAAOA,EAAIC,KAAOD,EAAIC,KAAJ,eAA6BD,UAI/D,CAAClG,EAAUuC,EAAWkD,EAASxF,EAAayG,IAG7C,sBAAKvF,UAAU,6BAAf,WACIyF,GACA,sBAAKzF,UAAU,0DAAf,UACE,cAAC,EAAD,CAAaqD,UAtEL,WACVjC,IACFA,GAAU,GACVvC,EAASuH,cAActB,MACrB,WACEU,GAAqB,GACrBpE,GAAU,MAEZ,SAAC2D,GACC3D,GAAU,GACVkD,EAAQ,GAAD,OAAIS,GAAOA,EAAIC,KAAOD,EAAIC,KAAJ,eAA6BD,WA6D1D,cAAC,EAAD,CAAcrC,WAvDL,SAACC,GACZvB,IACFA,GAAU,GACVvC,EAASwH,UAAU,CAAE1D,OAAQ2D,SAAS3D,KAAWmC,MAC/C,WACEU,GAAqB,GACrBpE,GAAU,MAEZ,SAAC2D,GACC3D,GAAU,GACVkD,EAAQ,GAAD,OAAIS,GAAOA,EAAIC,KAAOD,EAAIC,KAAJ,eAA6BD,WA8CzDM,GACCA,EAAM1B,KAAI,SAAC3C,EAAMC,GACf,OACE,cAAC,EAAD,CAEED,KAAMA,EACNC,MAAOA,EACPpC,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZC,OAAQA,EACRoC,UAAWA,EACXD,eAAgBwE,GARX1E,SAchBwE,GACC,qBAAKzF,UAAU,mBAAf,SACE,cAAC,EAAD,CACEoE,YAAaqB,EACb5G,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZC,OAAQA,EACRoC,UAAWA,EACXkD,QAASA,EACTD,QAzGa,WACrBwB,aAAaU,WAAW,cACxBb,EAAgB,e,SCtBL,SAASc,EAAT,GAA0C,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAC1C,SAASC,IACPD,IAGF,OACE,mCACE,cAAC,IAAD,CAAYE,QAAM,EAACnH,KAAgB,KAAVgH,EAAclH,GAAIC,WAA3C,SACE,cAAC,IAAD,CACED,GAAG,MACHS,UAAU,qCACVqE,QAASsC,EAHX,SAKE,sBAAK3G,UAAU,gCAAf,UACE,cAAC,IAAW6G,MAAZ,CACEtH,GAAIC,WACJE,MAAM,wBACNC,UAAU,YACVC,QAAQ,cACRC,MAAM,uBACNC,UAAU,cACVC,QAAQ,YAPV,SASE,cAAC,IAAO+G,QAAR,CAAgB9G,UAAU,oBAI5B,sBACEA,UAAU,qCACV+G,cAAY,OAFd,oBAMA,cAAC,IAAWF,MAAZ,CACEtH,GAAIC,WACJE,MAAM,wBACNC,UAAU,qBACVC,QAAQ,wBACRC,MAAM,uBACNC,UAAU,wBACVC,QAAQ,qBAPV,SASE,sBAAKC,UAAU,uIAAf,UACE,cAAC,IAAOgH,MAAR,CACEzH,GAAG,KACHS,UAAU,8CAFZ,wCAMA,qBAAKA,UAAU,OAAf,SACE,mBAAGA,UAAU,wBAAb,SAAsCyG,MAGxC,qBAAKzG,UAAU,OAAf,SACE,wBACE6C,KAAK,SACL7C,UAAU,4OACVI,QAASuG,EAHX,mCCjDlB,IAkDeM,EAlDH,SAAC,GAAmD,IAAjDpI,EAAgD,EAAhDA,SAAUC,EAAsC,EAAtCA,YAAaC,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,OAAa,EAC3BC,oBAAS,GADkB,mBACtD6B,EADsD,KAC3CoG,EAD2C,OAEnCjI,mBAAS,IAF0B,mBAEtDwH,EAFsD,KAE/CU,EAF+C,KAI7D,OACE,sBAAKnH,UAAU,oBAAf,UACE,cAAC,EAAD,CACEnB,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZC,OAAQA,EACRoC,UAAW8F,IAEb,cAACV,EAAD,CAAYC,MAAOA,EAAOC,SAAU,kBAAMS,EAAS,OACnD,cAAC,EAAD,CAAkBrG,UAAWA,IAC5BhC,GAAeA,EAAYqB,WAC1B,cAAC,EAAD,CACEtB,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZC,OAAQA,EACRoC,UAAW8F,EACX5C,QAAS6C,Q,6ECrBnB,oCAAAC,EAAA,6DACQrI,EAAasI,IAAUC,cAD/B,SAIqBC,UAAA,aACjBC,KAAM,CACJC,SAAU,IAAIF,YAAkBG,8BAE/B3I,IARP,UAIQ4I,EAJR,SAYQC,EAAmB,IAAIL,mBAAyBI,IAIjCE,eAhBvB,6BAkBiBD,EAAiBC,eAlBlC,SAmBsBD,EAAiBE,UAAUC,QAnBjD,mBAmB0DC,OAFtDlJ,EAjBJ,CAkBMqB,UAlBN,KAmBM8H,QAnBN,+BAwByB,IAAIV,WACzBK,EAAiBE,UACjB/I,EAAW6B,aACX,CAEEsH,YAAa,CAAC,YAAa,YAE3BC,cAAe,CAAC,cAAe,YAAa,aAG5CC,OAAQR,EAAiBC,iBAlC/B,eAwBQhJ,EAxBR,yBAsCS,CAAEA,WAAUC,cAAaC,aAAY6I,qBAtC9C,6C,sBAyCAtH,OAAO+H,gB,0CAAkBC,GAAexD,MACtC,YAA8D,IAA3DjG,EAA0D,EAA1DA,SAAUC,EAAgD,EAAhDA,YAAaC,EAAmC,EAAnCA,WAAY6I,EAAuB,EAAvBA,iBACpCW,IAASC,OACP,cAAC,EAAD,CACE3J,SAAUA,EACVC,YAAaA,EACbC,WAAYA,EACZC,OAAQ4I,IAEVa,SAASC,eAAe,a,iBC3D9B,IAAMC,EACJrB,2JAAYqB,eAAiB,mCA+B/BC,EAAOC,QA7BP,SAAmBC,GACjB,OAAQA,GACN,IAAK,UACH,MAAO,CACLC,UAAW,UACXC,QAAS,+BACTpI,aAAc+H,EACdM,UAAW,0BACXC,UAAW,mCAIf,IAAK,aACL,IAAK,cACL,IAAK,UACH,MAAO,CACLH,UAAW,UACXC,QAAS,+BACTpI,aAAc+H,EACdM,UAAW,kCACXC,UAAW,mCAEf,QACE,MAAMC,MAAM,6BAAD,OACoBL,EADpB,8C","file":"static/js/main.7b46fe32.chunk.js","sourcesContent":["import { Fragment, useState, useEffect } from \"react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { Transition } from \"@headlessui/react\";\n\nconst Authorization = ({ contract, currentUser, nearConfig, wallet }) => {\n  const signIn = () => {\n    wallet.requestSignIn(nearConfig.contractName, \"NEAR Battle Ships\");\n  };\n\n  const signOut = () => {\n    wallet.signOut();\n    window.location.replace(window.location.origin + window.location.pathname);\n  };\n\n  let [isShowing, setIsShowing] = useState(true);\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 500);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <>\n      <Transition\n        as={Fragment}\n        show={isShowing}\n        enter=\"transform transition duration-[500ms]\"\n        enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n        enterTo=\"opacity-100 rotate-0 scale-100\"\n        leave=\"transform duration-200 transition ease-in-out\"\n        leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n        leaveTo=\"opacity-0 scale-95 \"\n      >\n        <div className=\"flex justify-between bg-gradient-to-r from-green-400 to-blue-500 mt-6 p-2 mx-auto rounded-xl shadow-md items-center\">\n          <img\n            className=\"h-14 w-20\"\n            src=\"https://docs.near.org/img/near_logo.svg\"\n            alt=\"NEAR Logo\"\n          />\n\n          <div\n            className={`text-xl ${\n              currentUser && currentUser.accountId ? \"md:pl-60\" : \"\"\n            } font-medium text-black uppercase`}\n          >\n            Near BattleShips\n          </div>\n          <div className=\"flex justify-between\">\n            {currentUser && (\n              <div className=\"mr-8\">\n                <p className=\"text-black-500\">\n                  Account ID: {currentUser.accountId}\n                </p>\n              </div>\n            )}\n            {currentUser ? (\n              <button\n                className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded float-right\"\n                onClick={signOut}\n              >\n                Logout\n              </button>\n            ) : (\n              <button\n                className=\"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded float-right\"\n                onClick={signIn}\n              >\n                Login\n              </button>\n            )}\n          </div>\n        </div>\n      </Transition>\n    </>\n  );\n};\n\nexport default Authorization;\n","const LoadingIndicator = ({ isLoading }) => {\n  return (\n    <>\n      {isLoading ? (\n        <div className=\"my-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12\"></div>\n      ) : (\n        <div className=\"my-4 h-12 w-12\"></div>\n      )}\n    </>\n  );\n};\n\nexport default LoadingIndicator;\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\nimport { CopyToClipboard } from \"react-copy-to-clipboard\";\n\nconst GameCard = ({\n  game,\n  index,\n  delay,\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onLoading,\n  onGameSelected,\n}) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n  let [isCopied, setIsCopied] = useState(false);\n\n  let [, , resetIsShowing] = useTimeoutFn(\n    () => setIsShowing(true),\n    index * 200\n  );\n\n  let [, , resetIsCopied] = useTimeoutFn(() => setIsCopied(false), 500);\n\n  const showCopied = () => {\n    setIsCopied(true);\n    resetIsCopied();\n  };\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[${delay}ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-yellow-500 to-red-600\"\n            : \"from-yellow-400 to-red-500\"\n        }  p-6 max-w-sm mx-auto rounded-xl flex-col shadow-md flex space-y-2 cursor-pointer`}\n      >\n        <div className=\"text-xl font-medium text-black text-center flex items-center justify-center\">\n          <p onClick={() => onGameSelected(game)}> Game #{game.id}</p>\n          <CopyToClipboard text={game.id} onCopy={showCopied}>\n            <button className=\"inline-flex justify-center ml-2 px-2 py-2 text-sm font-medium border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z\"\n                />\n              </svg>\n              {isCopied && <span>copied</span>}\n            </button>\n          </CopyToClipboard>\n        </div>\n        <div\n          className=\"text-md font-medium text-black text flex flex-row items-center\"\n          onClick={() => onGameSelected(game)}\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z\"\n            />\n          </svg>\n          <p>\n            {game.counterpartyId\n              ? `${game.ownerId} - ${game.counterpartyId}`\n              : \"Share game id with your friend!\"}\n          </p>\n        </div>\n      </div>\n    </Transition>\n  );\n};\n\nexport default GameCard;\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\n\nconst JoinGameCard = ({ onJoinGame }) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n  let [gameId, setGameId] = useState(\"\");\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 150);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[200ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-green-300 to-blue-500\"\n            : \"from-green-100 to-blue-300\"\n        } p-6 mx-auto max-w-sm rounded-xl shadow-md cursor-pointer flex flex-row items-center justify-evenly`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <input\n          type=\"text\"\n          className=\"p-2\"\n          value={gameId}\n          placeholder=\"Enter game id\"\n          onChange={(e) => setGameId(e.target.value)}\n        />\n        <button\n          onClick={() => onJoinGame(gameId)}\n          disabled={!gameId}\n          className=\"inline-flex justify-center ml-2 px-2 py-2 text-sm font-medium border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            className=\"h-6 w-6\"\n            fill=\"none\"\n            viewBox=\"0 0 24 24\"\n            stroke=\"currentColor\"\n          >\n            <path\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n              strokeWidth={2}\n              d=\"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z\"\n            />\n          </svg>\n        </button>\n      </div>\n    </Transition>\n  );\n};\n\nexport default JoinGameCard;\n","import { Fragment, useEffect, useState } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\n\nconst AddGameCard = ({ onAddGame }) => {\n  let [isShowing, setIsShowing] = useState(false);\n  let [isHovered, setIsHovered] = useState(false);\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[200ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <button\n        onClick={onAddGame}\n        className={`w-full bg-gradient-to-r ${\n          isHovered\n            ? \"from-green-300 to-blue-500\"\n            : \"from-green-100 to-blue-300\"\n        } p-6 mx-auto max-w-sm rounded-xl shadow-md cursor-pointer`}\n        onMouseEnter={() => setIsHovered(true)}\n        onMouseLeave={() => setIsHovered(false)}\n      >\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-6 w-6 mx-auto\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 4v16m8-8H4\"\n          />\n        </svg>\n      </button>\n    </Transition>\n  );\n};\n\nexport default AddGameCard;\n","import { Fragment, useState, useEffect } from \"react\";\nimport { Transition } from \"@headlessui/react\";\nimport { useTimeoutFn } from \"react-use\";\n\nconst GameDetails = ({\n  currentGame,\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onClose,\n  onLoading,\n  onError,\n}) => {\n  const [isShowing, setIsShowing] = useState(false);\n  const [game, setGame] = useState(currentGame);\n  const [closeButtonColor, setCloseButtonColor] = useState(\"#000\");\n  const [shouldReloadGame, setShouldReloadGame] = useState(true);\n\n  const canMakeMove = () => {\n    return game.counterpartyId; // TODO add current turn\n  };\n\n  const onFieldSelected = (row, col) => {\n    onLoading(true);\n    if (canMakeMove) {\n      contract\n        .make_move({\n          gameId: game.id,\n          accountId: currentUser.accountId,\n          row: row,\n          col: col,\n        })\n        .then(\n          () => {\n            onLoading(false);\n            setShouldReloadGame(true);\n          },\n          (err) => {\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  };\n\n  let [, , resetIsShowing] = useTimeoutFn(() => setIsShowing(true), 100);\n\n  useEffect(() => {\n    resetIsShowing();\n  }, [resetIsShowing]);\n\n  useEffect(() => {\n    if (currentUser && currentUser.accountId && onLoading && shouldReloadGame) {\n      onLoading(true);\n      contract\n        .get_game({ gameId: game.id, accountId: currentUser.accountId })\n        .then(\n          (game) => {\n            setGame(game);\n            onLoading(false);\n            setShouldReloadGame(false);\n          },\n          (err) => {\n            setShouldReloadGame(false);\n            onLoading(false);\n            onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n          }\n        );\n    }\n  }, [game.id, contract, onLoading, onError, currentUser, shouldReloadGame]);\n\n  const isOwner = () =>\n    game && game.ownerFields && game.ownerId === currentUser.accountId;\n\n  const isCounterparty = () =>\n    game &&\n    game.counterpartyFields &&\n    game.counterpartyId === currentUser.accountId;\n\n  return (\n    <Transition\n      as={Fragment}\n      show={isShowing}\n      enter={`transform transition duration-[250ms]`}\n      enterFrom=\"opacity-0 rotate-[-120deg] scale-50\"\n      enterTo=\"opacity-100 rotate-0 scale-100\"\n      leave=\"transform duration-200 transition ease-in-out\"\n      leaveFrom=\"opacity-100 rotate-0 scale-100 \"\n      leaveTo=\"opacity-0 scale-95 \"\n    >\n      <div className=\"mw-800 bg-gradient-to-r from-indigo-300 to-indigo-500 p-6 rounded-xl flex-col shadow-md flex\">\n        <div className=\"text-2xl flex justify-between font-medium items-center mb-4\">\n          <div className=\"mx-auto mt-2 text-2xl text-center font-medium text-black\">\n            Game #{game.id}\n          </div>\n          <button\n            className=\"font-medium \"\n            onClick={onClose}\n            onMouseEnter={() => setCloseButtonColor(\"#ddd\")}\n            onMouseLeave={() => setCloseButtonColor(\"#000\")}\n          >\n            <svg\n              xmlns=\"http://www.w3.org/2000/svg\"\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke={closeButtonColor}\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {isOwner() && (\n          <div className=\"grid lg:grid-cols-2 grid-cols-1 gap-4\">\n            <div className=\"flex flex-col\">\n              <div className=\"mx-auto mt-2 text-2xl text-center font-medium text-black\">\n                Own ships\n              </div>\n              <div className=\"\">\n                {game.ownerFields.map((f, i) => (\n                  <Board key={`row-${i}`} fields={f} row={i} ownBoard />\n                ))}\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <div className=\"mx-auto mt-2 text-2xl text-center font-medium text-black\">\n                Counterparty Ships\n              </div>\n              <div className=\"\">\n                {game.counterpartyFields.map((f, i) => (\n                  <Board\n                    key={`row-${i}`}\n                    fields={f}\n                    row={i}\n                    onFieldSelected={onFieldSelected}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n        {isCounterparty() && (\n          <div className=\"grid lg:grid-cols-2 grid-cols-1 gap-4\">\n            <div className=\"flex flex-col\">\n              <div className=\"mx-auto mt-2 text-2xl text-center font-medium text-black\">\n                Own ships\n              </div>\n              <div>\n                {game.counterpartyFields.map((f, i) => (\n                  <Board key={`row-${i}`} fields={f} row={i} ownBoard />\n                ))}\n              </div>\n            </div>\n            <div className=\"flex flex-col\">\n              <div className=\"mx-auto mt-2 text-2xl text-center font-medium text-black\">\n                Counterparty Ships\n              </div>\n              <div>\n                {game.ownerFields.map((f, i) => (\n                  <Board\n                    key={`row-${i}`}\n                    fields={f}\n                    row={i}\n                    onFieldSelected={onFieldSelected}\n                  />\n                ))}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </Transition>\n  );\n};\n\nconst Board = ({ fields, row, onFieldSelected, ownBoard }) => {\n  return (\n    <div className=\"flex justify-center\">\n      {fields &&\n        fields.map((f, i) =>\n          ownBoard ? (\n            <Field key={i} field={f} col={i} row={row} ownBoard />\n          ) : (\n            <Field\n              key={i}\n              field={f}\n              col={i}\n              row={row}\n              onFieldSelected={onFieldSelected}\n            />\n          )\n        )}\n    </div>\n  );\n};\nconst Field = ({ field, row, col, onFieldSelected, ownBoard }) => {\n  return (\n    <div\n      className={`w-10 h-10 ${\n        !ownBoard && (field === \".\" || field === \"*\")\n          ? \"cursor-pointer border border-transparent rounded-md hover:bg-red-200\"\n          : \"\"\n      } flex items-center justify-center`}\n      onClick={() => {\n        if (!ownBoard && (field === \".\" || field === \"*\")) {\n          onFieldSelected(row, col);\n        }\n      }}\n    >\n      {(field === \".\" || (!ownBoard && field === \"*\")) && (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-4 w-4\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"#333\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\"\n          />\n        </svg>\n      )}\n      {field === \"-\" && (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-6 w-6\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M18 12H6\"\n          />\n        </svg>\n      )}\n      {ownBoard && field === \"*\" && (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-5 w-5\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            d=\"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      )}\n      {!ownBoard && field === \"x\" && (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-6 w-6\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"#000\"\n        >\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z\"\n          />\n          <path\n            strokeLinecap=\"round\"\n            strokeLinejoin=\"round\"\n            strokeWidth={2}\n            d=\"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z\"\n          />\n        </svg>\n      )}\n      {ownBoard && field === \"x\" && (\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          className=\"h-5 w-5\"\n          viewBox=\"0 0 20 20\"\n          fill=\"currentColor\"\n        >\n          <path\n            fillRule=\"evenodd\"\n            d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z\"\n            clipRule=\"evenodd\"\n          />\n        </svg>\n      )}\n    </div>\n  );\n};\n\nexport default GameDetails;\n","import { useEffect, useState } from \"react\";\nimport GameCard from \"./GameCard\";\nimport JoinGameCard from \"./JoinGameCard\";\nimport AddGameCard from \"./AddGameCard\";\nimport GameDetails from \"./GameDetails\";\n\nconst Games = ({\n  contract,\n  currentUser,\n  nearConfig,\n  wallet,\n  onLoading,\n  onError,\n}) => {\n  const [games, setGames] = useState();\n  const [shouldReloadGames, setShouldReloadGames] = useState(true);\n  const [selectedGame, setSelectedGame] = useState();\n\n  const activateGame = (election) => {\n    localStorage.setItem(\"activeGame\", election.id);\n    setSelectedGame(election);\n  };\n\n  const deactivateGame = () => {\n    localStorage.removeItem(\"activeGame\");\n    setSelectedGame(null);\n  };\n\n  const addGame = () => {\n    if (onLoading) {\n      onLoading(true);\n      contract.create_game().then(\n        () => {\n          setShouldReloadGames(true);\n          onLoading(false);\n        },\n        (err) => {\n          onLoading(false);\n          onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n        }\n      );\n    }\n  };\n\n  const joinGame = (gameId) => {\n    if (onLoading) {\n      onLoading(true);\n      contract.join_game({ gameId: parseInt(gameId) }).then(\n        () => {\n          setShouldReloadGames(true);\n          onLoading(false);\n        },\n        (err) => {\n          onLoading(false);\n          onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n        }\n      );\n    }\n  };\n\n  useEffect(() => {\n    if (games && games.length > 0) {\n      const gameId = localStorage.getItem(\"activeGame\");\n      games\n        .filter((e) => `${e.id}` === gameId)\n        .forEach((e) => {\n          setSelectedGame(e);\n        });\n    }\n  }, [games]);\n\n  useEffect(() => {\n    if (\n      currentUser &&\n      currentUser.accountId &&\n      onLoading &&\n      shouldReloadGames\n    ) {\n      onLoading(true);\n      contract.get_games({ accountId: currentUser.accountId }).then(\n        (games) => {\n          onLoading(false);\n          setGames(games);\n          setShouldReloadGames(false);\n        },\n        (err) => {\n          setShouldReloadGames(false);\n          onLoading(false);\n          onError(`${err && err.kind ? err.kind[\"ExecutionError\"] : err}`);\n        }\n      );\n    }\n  }, [contract, onLoading, onError, currentUser, shouldReloadGames]);\n\n  return (\n    <div className=\"container mx-auto flex-row\">\n      {!selectedGame && (\n        <div className=\"grid lg:grid-cols-4 md:grid-cols-2 xs:grid-cols-1 gap-4\">\n          <AddGameCard onAddGame={addGame} />\n          <JoinGameCard onJoinGame={joinGame} />\n          {games &&\n            games.map((game, index) => {\n              return (\n                <GameCard\n                  key={index}\n                  game={game}\n                  index={index}\n                  contract={contract}\n                  currentUser={currentUser}\n                  nearConfig={nearConfig}\n                  wallet={wallet}\n                  onLoading={onLoading}\n                  onGameSelected={activateGame}\n                />\n              );\n            })}\n        </div>\n      )}\n      {selectedGame && (\n        <div className=\"grid grid-cols-1\">\n          <GameDetails\n            currentGame={selectedGame}\n            contract={contract}\n            currentUser={currentUser}\n            nearConfig={nearConfig}\n            wallet={wallet}\n            onLoading={onLoading}\n            onError={onError}\n            onClose={deactivateGame}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Games;\n","import { Dialog, Transition } from \"@headlessui/react\";\nimport { Fragment } from \"react\";\n\nexport default function ErrorPopup({ error, callback }) {\n  function closeModal() {\n    callback();\n  }\n\n  return (\n    <>\n      <Transition appear show={error !== \"\"} as={Fragment}>\n        <Dialog\n          as=\"div\"\n          className=\"fixed inset-0 z-10 overflow-y-auto\"\n          onClose={closeModal}\n        >\n          <div className=\"min-h-screen px-4 text-center\">\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0\"\n              enterTo=\"opacity-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100\"\n              leaveTo=\"opacity-0\"\n            >\n              <Dialog.Overlay className=\"fixed inset-0\" />\n            </Transition.Child>\n\n            {/* This element is to trick the browser into centering the modal contents. */}\n            <span\n              className=\"inline-block h-screen align-middle\"\n              aria-hidden=\"true\"\n            >\n              &#8203;\n            </span>\n            <Transition.Child\n              as={Fragment}\n              enter=\"ease-out duration-300\"\n              enterFrom=\"opacity-0 scale-95\"\n              enterTo=\"opacity-100 scale-100\"\n              leave=\"ease-in duration-200\"\n              leaveFrom=\"opacity-100 scale-100\"\n              leaveTo=\"opacity-0 scale-95\"\n            >\n              <div className=\"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl\">\n                <Dialog.Title\n                  as=\"h3\"\n                  className=\"text-lg font-medium leading-6 text-gray-900\"\n                >\n                  Opps, something went wrong\n                </Dialog.Title>\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500\">{error}</p>\n                </div>\n\n                <div className=\"mt-4\">\n                  <button\n                    type=\"button\"\n                    className=\"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500\"\n                    onClick={closeModal}\n                  >\n                    Close\n                  </button>\n                </div>\n              </div>\n            </Transition.Child>\n          </div>\n        </Dialog>\n      </Transition>\n    </>\n  );\n}\n","import \"regenerator-runtime/runtime\";\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Authorization from \"./Authorization\";\nimport LoadingIndicator from \"./LoadingIndicator\";\nimport Games from \"./Games\";\nimport ErrorPopup from \"./ErrorPopup\";\n\nconst App = ({ contract, currentUser, nearConfig, wallet }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n\n  return (\n    <div className=\"container mx-auto\">\n      <Authorization\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={wallet}\n        onLoading={setIsLoading}\n      />\n      <ErrorPopup error={error} callback={() => setError(\"\")} />\n      <LoadingIndicator isLoading={isLoading} />\n      {currentUser && currentUser.accountId && (\n        <Games\n          contract={contract}\n          currentUser={currentUser}\n          nearConfig={nearConfig}\n          wallet={wallet}\n          onLoading={setIsLoading}\n          onError={setError}\n        />\n      )}\n    </div>\n  );\n};\n\nApp.propTypes = {\n  contract: PropTypes.shape({\n    get_games: PropTypes.func.isRequired,\n    get_game: PropTypes.func.isRequired,\n    create_game: PropTypes.func.isRequired,\n    join_game: PropTypes.func.isRequired,\n    make_move: PropTypes.func.isRequired,\n  }).isRequired,\n  currentUser: PropTypes.shape({\n    accountId: PropTypes.string.isRequired,\n    balance: PropTypes.string.isRequired,\n  }),\n  nearConfig: PropTypes.shape({\n    contractName: PropTypes.string.isRequired,\n  }).isRequired,\n  wallet: PropTypes.shape({\n    requestSignIn: PropTypes.func.isRequired,\n    signOut: PropTypes.func.isRequired,\n  }).isRequired,\n};\n\nexport default App;\n","// src/index.js\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nimport getConfig from \"./config.js\";\nimport * as nearAPI from \"near-api-js\";\n\n// Initializing contract\nasync function initContract() {\n  const nearConfig = getConfig(process.env.NODE_ENV || \"testnet\");\n\n  // Initializing connection to the NEAR TestNet\n  const near = await nearAPI.connect({\n    deps: {\n      keyStore: new nearAPI.keyStores.BrowserLocalStorageKeyStore(),\n    },\n    ...nearConfig,\n  });\n\n  // Needed to access wallet\n  const walletConnection = new nearAPI.WalletConnection(near);\n\n  // Load in account data\n  let currentUser;\n  if (walletConnection.getAccountId()) {\n    currentUser = {\n      accountId: walletConnection.getAccountId(),\n      balance: (await walletConnection.account().state()).amount,\n    };\n  }\n\n  // Initializing our contract APIs by contract name and configuration\n  const contract = await new nearAPI.Contract(\n    walletConnection.account(),\n    nearConfig.contractName,\n    {\n      // View methods are read-only – they don't modify the state, but usually return some value\n      viewMethods: [\"get_games\", \"get_game\"],\n      // Change methods can modify the state, but you don't receive the returned value when called\n      changeMethods: [\"create_game\", \"join_game\", \"make_move\"],\n      // Sender is the account ID to initialize transactions.\n      // getAccountId() will return empty string if user is still unauthorized\n      sender: walletConnection.getAccountId(),\n    }\n  );\n\n  return { contract, currentUser, nearConfig, walletConnection };\n}\n\nwindow.nearInitPromise = initContract().then(\n  ({ contract, currentUser, nearConfig, walletConnection }) => {\n    ReactDOM.render(\n      <App\n        contract={contract}\n        currentUser={currentUser}\n        nearConfig={nearConfig}\n        wallet={walletConnection}\n      />,\n      document.getElementById(\"root\")\n    );\n  }\n);\n","const CONTRACT_NAME =\n  process.env.CONTRACT_NAME || \"dev-1638315706960-37395272733039\";\n\nfunction getConfig(env) {\n  switch (env) {\n    case \"mainnet\":\n      return {\n        networkId: \"mainnet\",\n        nodeUrl: \"https://rpc.mainnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.near.org\",\n        helperUrl: \"https://helper.mainnet.near.org\",\n      };\n    // This is an example app so production is set to testnet.\n    // You can move production to mainnet if that is applicable.\n    case \"production\":\n    case \"development\":\n    case \"testnet\":\n      return {\n        networkId: \"testnet\",\n        nodeUrl: \"https://rpc.testnet.near.org\",\n        contractName: CONTRACT_NAME,\n        walletUrl: \"https://wallet.testnet.near.org\",\n        helperUrl: \"https://helper.testnet.near.org\",\n      };\n    default:\n      throw Error(\n        `Unconfigured environment '${env}'. Can be configured in src/config.js.`\n      );\n  }\n}\n\nmodule.exports = getConfig;\n"],"sourceRoot":""}