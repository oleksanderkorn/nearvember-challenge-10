(this["webpackJsonpnearvember-challenge-10"]=this["webpackJsonpnearvember-challenge-10"]||[]).push([[0],{115:function(e,t){},143:function(e,t,n){"use strict";n.r(t);var r=n(6),o=n.n(r),c=n(72),a=n(70),s=n(0),i=n(36),l=n.n(i),d=n(3),u=(n(49),n(144)),j=n(146),m=n(1),b=function(e){e.contract;var t=e.currentUser,n=e.nearConfig,r=e.wallet,o=Object(s.useState)(!0),c=Object(d.a)(o,2),a=c[0],i=c[1],l=Object(u.a)((function(){return i(!0)}),500),b=Object(d.a)(l,3)[2];return Object(s.useEffect)((function(){b()}),[b]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(j.a,{as:s.Fragment,show:a,enter:"transform transition duration-[500ms]",enterFrom:"opacity-0 rotate-[-120deg] scale-50",enterTo:"opacity-100 rotate-0 scale-100",leave:"transform duration-200 transition ease-in-out",leaveFrom:"opacity-100 rotate-0 scale-100 ",leaveTo:"opacity-0 scale-95 ",children:Object(m.jsxs)("div",{className:"flex justify-between bg-gradient-to-r from-green-400 to-blue-500 mt-6 p-2 mx-auto rounded-xl shadow-md items-center",children:[Object(m.jsx)("img",{className:"h-14 w-20",src:"https://docs.near.org/img/near_logo.svg",alt:"NEAR Logo"}),Object(m.jsx)("div",{className:"text-xl ".concat(t&&t.accountId?"md:pl-60":""," font-medium text-black uppercase"),children:"Near BattleShips"}),Object(m.jsxs)("div",{className:"flex justify-between",children:[t&&Object(m.jsx)("div",{className:"mr-8",children:Object(m.jsxs)("p",{className:"text-black-500",children:["Account ID: ",t.accountId]})}),t?Object(m.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded float-right",onClick:function(){r.signOut(),window.location.replace(window.location.origin+window.location.pathname)},children:"Logout"}):Object(m.jsx)("button",{className:"bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded float-right",onClick:function(){r.requestSignIn(n.contractName,"NEAR Battle Ships")},children:"Login"})]})]})})})},f=function(e){var t=e.isLoading;return Object(m.jsx)(m.Fragment,{children:t?Object(m.jsx)("div",{className:"my-4 mx-auto loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12"}):Object(m.jsx)("div",{className:"my-4 h-12 w-12"})})},x=n(38),h=function(e){var t=e.game,n=e.index,r=e.delay,o=(e.contract,e.currentUser,e.nearConfig,e.wallet,e.onLoading,e.onGameSelected),c=Object(s.useState)(!1),a=Object(d.a)(c,2),i=a[0],l=a[1],b=Object(s.useState)(!1),f=Object(d.a)(b,2),h=f[0],g=f[1],p=Object(s.useState)(!1),v=Object(d.a)(p,2),O=v[0],w=v[1],k=Object(u.a)((function(){return l(!0)}),200*n),y=Object(d.a)(k,3)[2],N=Object(u.a)((function(){return w(!1)}),500),C=Object(d.a)(N,3)[2];return Object(s.useEffect)((function(){y()}),[y]),Object(m.jsx)(j.a,{as:s.Fragment,show:i,enter:"transform transition duration-[".concat(r,"ms]"),enterFrom:"opacity-0 rotate-[-120deg] scale-50",enterTo:"opacity-100 rotate-0 scale-100",leave:"transform duration-200 transition ease-in-out",leaveFrom:"opacity-100 rotate-0 scale-100 ",leaveTo:"opacity-0 scale-95 ",children:Object(m.jsxs)("div",{onMouseEnter:function(){return g(!0)},onMouseLeave:function(){return g(!1)},className:"w-full bg-gradient-to-r ".concat(h?"from-yellow-500 to-red-600":"from-yellow-400 to-red-500","  p-6 max-w-sm mx-auto rounded-xl flex-col shadow-md flex space-y-2 cursor-pointer"),children:[Object(m.jsxs)("div",{className:"text-xl font-medium text-black text-center flex items-center justify-center",children:[Object(m.jsxs)("p",{onClick:function(){return o(t)},children:[" Game #",t.id]}),Object(m.jsx)(x.CopyToClipboard,{text:t.id,onCopy:function(){w(!0),C()},children:Object(m.jsxs)("button",{className:"inline-flex justify-center ml-2 px-2 py-2 text-sm font-medium border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),O&&Object(m.jsx)("span",{children:"copied"})]})})]}),Object(m.jsxs)("div",{className:"text-md font-medium text-black text flex flex-row items-center",onClick:function(){return o(t)},children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),Object(m.jsx)("p",{children:t.counterpartyId?"".concat(t.ownerId," - ").concat(t.counterpartyId):"Share game id with your friend!"})]})]})})},g=function(e){var t=e.onJoinGame,n=Object(s.useState)(!1),r=Object(d.a)(n,2),o=r[0],c=r[1],a=Object(s.useState)(!1),i=Object(d.a)(a,2),l=i[0],b=i[1],f=Object(s.useState)(""),x=Object(d.a)(f,2),h=x[0],g=x[1],p=Object(u.a)((function(){return c(!0)}),150),v=Object(d.a)(p,3)[2];return Object(s.useEffect)((function(){v()}),[v]),Object(m.jsx)(j.a,{as:s.Fragment,show:o,enter:"transform transition duration-[200ms]",enterFrom:"opacity-0 rotate-[-120deg] scale-50",enterTo:"opacity-100 rotate-0 scale-100",leave:"transform duration-200 transition ease-in-out",leaveFrom:"opacity-100 rotate-0 scale-100 ",leaveTo:"opacity-0 scale-95 ",children:Object(m.jsxs)("div",{className:"w-full bg-gradient-to-r ".concat(l?"from-green-300 to-blue-500":"from-green-100 to-blue-300"," p-6 mx-auto max-w-sm rounded-xl shadow-md cursor-pointer flex flex-row items-center justify-evenly"),onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:[Object(m.jsx)("input",{type:"text",className:"p-2",value:h,placeholder:"Enter game id",onChange:function(e){return g(e.target.value)}}),Object(m.jsx)("button",{onClick:function(){return t(h)},disabled:!h,className:"inline-flex justify-center ml-2 px-2 py-2 text-sm font-medium border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})})]})})},p=function(e){var t=e.onAddGame,n=Object(s.useState)(!1),r=Object(d.a)(n,2),o=r[0],c=r[1],a=Object(s.useState)(!1),i=Object(d.a)(a,2),l=i[0],b=i[1],f=Object(u.a)((function(){return c(!0)}),100),x=Object(d.a)(f,3)[2];return Object(s.useEffect)((function(){x()}),[x]),Object(m.jsx)(j.a,{as:s.Fragment,show:o,enter:"transform transition duration-[200ms]",enterFrom:"opacity-0 rotate-[-120deg] scale-50",enterTo:"opacity-100 rotate-0 scale-100",leave:"transform duration-200 transition ease-in-out",leaveFrom:"opacity-100 rotate-0 scale-100 ",leaveTo:"opacity-0 scale-95 ",children:Object(m.jsx)("button",{onClick:t,className:"w-full bg-gradient-to-r ".concat(l?"from-green-300 to-blue-500":"from-green-100 to-blue-300"," p-6 mx-auto max-w-sm rounded-xl shadow-md cursor-pointer"),onMouseEnter:function(){return b(!0)},onMouseLeave:function(){return b(!1)},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})})},v=function(e){var t=e.fields,n=e.row,r=e.onFieldSelected,o=e.ownBoard,c=e.canMakeMove;return Object(m.jsx)("div",{className:"flex justify-center",children:t&&t.map((function(e,t){return o?Object(m.jsx)(O,{field:e,col:t,row:n,ownBoard:!0},t):Object(m.jsx)(O,{field:e,col:t,row:n,canMakeMove:c,onFieldSelected:r},t)}))})},O=function(e){var t=e.field,n=e.row,r=e.col,o=e.onFieldSelected,c=e.ownBoard,a=e.canMakeMove,i=Object(s.useState)(!1),l=Object(d.a)(i,2),u=l[0],j=l[1];return Object(m.jsxs)("div",{onMouseEnter:function(){return j(!0)},onMouseLeave:function(){return j(!1)},className:"w-10 h-10 ".concat(!a()||c||"."!==t&&"*"!==t?"":"cursor-pointer border border-transparent rounded-md hover:bg-red-200"," flex items-center justify-center"),onClick:function(){!a()||c||"."!==t&&"*"!==t||o(n,r)},children:[!c&&("."===t||"*"===t)&&Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"#333",children:u?Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),c&&"."===t&&Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"#333",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"-"===t&&Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 12H6"})}),c&&"*"===t&&Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z",clipRule:"evenodd"})}),!c&&"x"===t&&Object(m.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"#000",children:[Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"})]}),c&&"x"===t&&Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:Object(m.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 100-2 1 1 0 000 2zm7-1a1 1 0 11-2 0 1 1 0 012 0zm-7.536 5.879a1 1 0 001.415 0 3 3 0 014.242 0 1 1 0 001.415-1.415 5 5 0 00-7.072 0 1 1 0 000 1.415z",clipRule:"evenodd"})})]})},w=function(e){var t=e.currentGame,n=e.contract,r=e.currentUser,o=(e.nearConfig,e.wallet,e.onClose),c=e.onLoading,a=e.onError,i=Object(s.useState)(!1),l=Object(d.a)(i,2),b=l[0],f=l[1],h=Object(s.useState)(t),g=Object(d.a)(h,2),p=g[0],O=g[1],w=Object(s.useState)(!1),k=Object(d.a)(w,2),y=k[0],N=k[1],C=Object(s.useState)(""),L=Object(d.a)(C,2),S=L[0],I=L[1],M=Object(s.useState)("#000"),E=Object(d.a)(M,2),F=E[0],B=E[1],U=Object(s.useState)(!0),T=Object(d.a)(U,2),z=T[0],W=T[1],A=Object(s.useState)(!1),G=Object(d.a)(A,2),_=G[0],H=G[1],R=function(){return p&&p.counterpartyId&&!y},J=function(e,t){c(!0),R&&n.make_move({gameId:p.id,accountId:r.accountId,row:e,col:t}).then((function(){c(!1),W(!0)}),(function(e){c(!1),a("".concat(e&&e.kind?e.kind.ExecutionError:e))}))},V=Object(u.a)((function(){return f(!0)}),100),q=Object(d.a)(V,3)[2];Object(s.useEffect)((function(){q()}),[q]);var D=Object(u.a)((function(){return H(!1)}),500),K=Object(d.a)(D,3)[2];Object(s.useEffect)((function(){if(p){var e=!1;p.ownerFields.forEach((function(t){t.forEach((function(t){"*"===t&&(e=!0)}))}));var t=!1;p.counterpartyFields.forEach((function(e){e.forEach((function(e){"*"===e&&(t=!0)}))})),e&&!t?(N(!0),I(p.ownerId)):!e&&t&&(N(!0),I(p.counterpartyId))}}),[p]),Object(s.useEffect)((function(){r&&r.accountId&&c&&z&&(c(!0),n.get_game({gameId:p.id,accountId:r.accountId}).then((function(e){O(e),c(!1),W(!1)}),(function(e){W(!1),c(!1),a("".concat(e&&e.kind?e.kind.ExecutionError:e))})))}),[p.id,n,c,a,r,z]);return Object(m.jsx)(j.a,{as:s.Fragment,show:b,enter:"transform transition duration-[250ms]",enterFrom:"opacity-0 rotate-[-120deg] scale-50",enterTo:"opacity-100 rotate-0 scale-100",leave:"transform duration-200 transition ease-in-out",leaveFrom:"opacity-100 rotate-0 scale-100 ",leaveTo:"opacity-0 scale-95 ",children:Object(m.jsxs)("div",{className:"mw-800 bg-gradient-to-r from-indigo-300 to-indigo-500 p-6 rounded-xl flex-col shadow-md flex",children:[Object(m.jsxs)("div",{className:"text-2xl flex justify-between font-medium items-center mb-4",children:[Object(m.jsxs)("div",{className:"mx-auto mt-2 text-2xl text-center font-medium text-black flex items-center justify-center",children:["Game #",p.id," ",y&&"is over. Winner: ".concat(S),p&&""===p.counterpartyId&&Object(m.jsx)(x.CopyToClipboard,{text:p.id,onCopy:function(){H(!0),K()},children:Object(m.jsxs)("button",{className:"inline-flex justify-center ml-2 px-2 py-2 text-sm font-medium border border-transparent rounded-md hover:bg-red-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",children:[Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),_&&Object(m.jsx)("span",{children:"copied"})]})})]}),Object(m.jsx)("button",{className:"font-medium ",onClick:o,onMouseEnter:function(){return B("#ddd")},onMouseLeave:function(){return B("#000")},children:Object(m.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:F,children:Object(m.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),p&&p.ownerFields&&p.ownerId===r.accountId&&Object(m.jsxs)("div",{className:"grid lg:grid-cols-2 grid-cols-1 gap-4",children:[Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"mx-auto mt-2 text-2xl text-center font-medium text-black",children:"Own ships"}),Object(m.jsx)("div",{className:"",children:p.ownerFields.map((function(e,t){return Object(m.jsx)(v,{fields:e,row:t,ownBoard:!0},"row-".concat(t))}))})]}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"mx-auto mt-2 text-2xl text-center font-medium text-black",children:"Counterparty Ships"}),Object(m.jsx)("div",{className:"",children:p.counterpartyFields.map((function(e,t){return Object(m.jsx)(v,{fields:e,row:t,hasCounterparty:p.counterpartyId&&""!==p.counterpartyId,onFieldSelected:J},"row-".concat(t))}))})]})]}),p&&p.counterpartyFields&&p.counterpartyId===r.accountId&&Object(m.jsxs)("div",{className:"grid lg:grid-cols-2 grid-cols-1 gap-4",children:[Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"mx-auto mt-2 text-2xl text-center font-medium text-black",children:"Own ships"}),Object(m.jsx)("div",{children:p.counterpartyFields.map((function(e,t){return Object(m.jsx)(v,{fields:e,row:t,ownBoard:!0},"row-".concat(t))}))})]}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)("div",{className:"mx-auto mt-2 text-2xl text-center font-medium text-black",children:"Counterparty Ships"}),Object(m.jsx)("div",{children:p.ownerFields.map((function(e,t){return Object(m.jsx)(v,{fields:e,row:t,canMakeMove:R,onFieldSelected:J},"row-".concat(t))}))})]})]})]})})},k=function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,o=e.wallet,c=e.onLoading,a=e.onError,i=Object(s.useState)(),l=Object(d.a)(i,2),u=l[0],j=l[1],b=Object(s.useState)(!0),f=Object(d.a)(b,2),x=f[0],v=f[1],O=Object(s.useState)(),k=Object(d.a)(O,2),y=k[0],N=k[1],C=function(e){localStorage.setItem("activeGame",e.id),N(e)};return Object(s.useEffect)((function(){if(u&&u.length>0){var e=localStorage.getItem("activeGame");u.filter((function(t){return"".concat(t.id)===e})).forEach((function(e){N(e)}))}}),[u]),Object(s.useEffect)((function(){n&&n.accountId&&c&&x&&(c(!0),t.get_games({accountId:n.accountId}).then((function(e){c(!1),j(e),v(!1)}),(function(e){v(!1),c(!1),a("".concat(e&&e.kind?e.kind.ExecutionError:e))})))}),[t,c,a,n,x]),Object(m.jsxs)("div",{className:"container mx-auto flex-row",children:[!y&&Object(m.jsxs)("div",{className:"grid lg:grid-cols-4 md:grid-cols-2 xs:grid-cols-1 gap-4",children:[Object(m.jsx)(p,{onAddGame:function(){c&&(c(!0),t.create_game().then((function(){v(!0),c(!1)}),(function(e){c(!1),a("".concat(e&&e.kind?e.kind.ExecutionError:e))})))}}),Object(m.jsx)(g,{onJoinGame:function(e){c&&(c(!0),t.join_game({gameId:parseInt(e)}).then((function(){v(!0),c(!1)}),(function(e){c(!1),a("".concat(e&&e.kind?e.kind.ExecutionError:e))})))}}),u&&u.map((function(e,a){return Object(m.jsx)(h,{game:e,index:a,contract:t,currentUser:n,nearConfig:r,wallet:o,onLoading:c,onGameSelected:C},a)}))]}),y&&Object(m.jsx)("div",{className:"grid grid-cols-1",children:Object(m.jsx)(w,{currentGame:y,contract:t,currentUser:n,nearConfig:r,wallet:o,onLoading:c,onError:a,onClose:function(){localStorage.removeItem("activeGame"),N(null)}})})]})},y=n(145);function N(e){var t=e.error,n=e.callback;function r(){n()}return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(j.a,{appear:!0,show:""!==t,as:s.Fragment,children:Object(m.jsx)(y.a,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto",onClose:r,children:Object(m.jsxs)("div",{className:"min-h-screen px-4 text-center",children:[Object(m.jsx)(j.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(m.jsx)(y.a.Overlay,{className:"fixed inset-0"})}),Object(m.jsx)("span",{className:"inline-block h-screen align-middle","aria-hidden":"true",children:"\u200b"}),Object(m.jsx)(j.a.Child,{as:s.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:Object(m.jsxs)("div",{className:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl",children:[Object(m.jsx)(y.a.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Opps, something went wrong"}),Object(m.jsx)("div",{className:"mt-2",children:Object(m.jsx)("p",{className:"text-sm text-gray-500",children:t})}),Object(m.jsx)("div",{className:"mt-4",children:Object(m.jsx)("button",{type:"button",className:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:r,children:"Close"})})]})})]})})})})}var C=function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,o=e.wallet,c=Object(s.useState)(!1),a=Object(d.a)(c,2),i=a[0],l=a[1],u=Object(s.useState)(""),j=Object(d.a)(u,2),x=j[0],h=j[1];return Object(m.jsxs)("div",{className:"container mx-auto",children:[Object(m.jsx)(b,{contract:t,currentUser:n,nearConfig:r,wallet:o,onLoading:l}),Object(m.jsx)(N,{error:x,callback:function(){return h("")}}),Object(m.jsx)(f,{isLoading:i}),n&&n.accountId&&Object(m.jsx)(k,{contract:t,currentUser:n,nearConfig:r,wallet:o,onLoading:l,onError:h})]})},L=(n(81),n(71)),S=n.n(L),I=n(28);function M(){return(M=Object(a.a)(o.a.mark((function e(){var t,n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S()("production"),e.next=3,I.connect(Object(c.a)({deps:{keyStore:new I.keyStores.BrowserLocalStorageKeyStore}},t));case 3:if(n=e.sent,!(r=new I.WalletConnection(n)).getAccountId()){e.next=11;break}return e.t0=r.getAccountId(),e.next=9,r.account().state();case 9:e.t1=e.sent.amount,a={accountId:e.t0,balance:e.t1};case 11:return e.next=13,new I.Contract(r.account(),t.contractName,{viewMethods:["get_games","get_game"],changeMethods:["create_game","join_game","make_move"],sender:r.getAccountId()});case 13:return s=e.sent,e.abrupt("return",{contract:s,currentUser:a,nearConfig:t,walletConnection:r});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}window.nearInitPromise=function(){return M.apply(this,arguments)}().then((function(e){var t=e.contract,n=e.currentUser,r=e.nearConfig,o=e.walletConnection;l.a.render(Object(m.jsx)(C,{contract:t,currentUser:n,nearConfig:r,wallet:o}),document.getElementById("root"))}))},71:function(e,t){var n="challenge-10.lkskrnk.testnet";e.exports=function(e){switch(e){case"mainnet":return{networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",contractName:n,walletUrl:"https://wallet.near.org",helperUrl:"https://helper.mainnet.near.org"};case"production":case"development":case"testnet":return{networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",contractName:n,walletUrl:"https://wallet.testnet.near.org",helperUrl:"https://helper.testnet.near.org"};default:throw Error("Unconfigured environment '".concat(e,"'. Can be configured in src/config.js."))}}},81:function(e,t,n){},87:function(e,t){},97:function(e,t){}},[[143,1,2]]]);
//# sourceMappingURL=main.51015d61.chunk.js.map